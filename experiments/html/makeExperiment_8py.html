<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MopatopExperiments: makeExperiment.py File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MopatopExperiments
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">makeExperiment.py File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Create csv files to define sets of values to be used in an experiment.  
<a href="#details">More...</a></p>

<p><a href="makeExperiment_8py_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a7ee9065718e6628dc7791b756fa6c0f9"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="makeExperiment_8py.html#a7ee9065718e6628dc7791b756fa6c0f9">Name</a> = 'endTimeTest10_20000'</td></tr>
<tr class="memdesc:a7ee9065718e6628dc7791b756fa6c0f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">experiment name  <a href="makeExperiment_8py.html#a7ee9065718e6628dc7791b756fa6c0f9">More...</a><br /></td></tr>
<tr class="separator:a7ee9065718e6628dc7791b756fa6c0f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4687725601d2b280bb37f75f805d90ca"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="makeExperiment_8py.html#a4687725601d2b280bb37f75f805d90ca">modelVersion</a> = '0.4'</td></tr>
<tr class="memdesc:a4687725601d2b280bb37f75f805d90ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">change to reflect version of the model  <a href="makeExperiment_8py.html#a4687725601d2b280bb37f75f805d90ca">More...</a><br /></td></tr>
<tr class="separator:a4687725601d2b280bb37f75f805d90ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afdc21ecf504c037e64261e35b7c86610"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="makeExperiment_8py.html#afdc21ecf504c037e64261e35b7c86610">purpose</a> = 'Testing how changes in parameters affect length of a well-mixed epidemic'</td></tr>
<tr class="memdesc:afdc21ecf504c037e64261e35b7c86610"><td class="mdescLeft">&#160;</td><td class="mdescRight">A string briefly giving experiment purpose.  <a href="makeExperiment_8py.html#afdc21ecf504c037e64261e35b7c86610">More...</a><br /></td></tr>
<tr class="separator:afdc21ecf504c037e64261e35b7c86610"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adaf1b66faf18504ec4b5c8c0b7f6763b"><td class="memItemLeft" align="right" valign="top"><a id="adaf1b66faf18504ec4b5c8c0b7f6763b"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="makeExperiment_8py.html#adaf1b66faf18504ec4b5c8c0b7f6763b">spec</a> = 'base_'+Name+'.csv'</td></tr>
<tr class="memdesc:adaf1b66faf18504ec4b5c8c0b7f6763b"><td class="mdescLeft">&#160;</td><td class="mdescRight">default name of the specification file This will be the name in the experiment database <br /></td></tr>
<tr class="separator:adaf1b66faf18504ec4b5c8c0b7f6763b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeabc269485afda7ef0d89ecb0ac6b7f5"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="makeExperiment_8py.html#aeabc269485afda7ef0d89ecb0ac6b7f5">root</a> = &quot;../&quot;</td></tr>
<tr class="memdesc:aeabc269485afda7ef0d89ecb0ac6b7f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">directory from which to find the experiments sub-directory  <a href="makeExperiment_8py.html#aeabc269485afda7ef0d89ecb0ac6b7f5">More...</a><br /></td></tr>
<tr class="separator:aeabc269485afda7ef0d89ecb0ac6b7f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79b1a3c6d50c8374eb4bb2bad5b524cc"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="makeExperiment_8py.html#a79b1a3c6d50c8374eb4bb2bad5b524cc">experimentDirectory</a> = 'experiments/'</td></tr>
<tr class="memdesc:a79b1a3c6d50c8374eb4bb2bad5b524cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">directory containing experiment specifications and their output  <a href="makeExperiment_8py.html#a79b1a3c6d50c8374eb4bb2bad5b524cc">More...</a><br /></td></tr>
<tr class="separator:a79b1a3c6d50c8374eb4bb2bad5b524cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46c20eb2a26abeb1e934cd66e1dd6484"><td class="memItemLeft" align="right" valign="top"><a id="a46c20eb2a26abeb1e934cd66e1dd6484"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="makeExperiment_8py.html#a46c20eb2a26abeb1e934cd66e1dd6484">path</a> = root+experimentDirectory</td></tr>
<tr class="memdesc:a46c20eb2a26abeb1e934cd66e1dd6484"><td class="mdescLeft">&#160;</td><td class="mdescRight">store the while path for later use <br /></td></tr>
<tr class="separator:a46c20eb2a26abeb1e934cd66e1dd6484"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad52a0c4da962ce7ce3ee6514a1226496"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="makeExperiment_8py.html#ad52a0c4da962ce7ce3ee6514a1226496">databaseFile</a> = 'ExperimentDatabase.csv'</td></tr>
<tr class="memdesc:ad52a0c4da962ce7ce3ee6514a1226496"><td class="mdescLeft">&#160;</td><td class="mdescRight">set the name of the experiment database  <a href="makeExperiment_8py.html#ad52a0c4da962ce7ce3ee6514a1226496">More...</a><br /></td></tr>
<tr class="separator:ad52a0c4da962ce7ce3ee6514a1226496"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ada5eecb44f5b32c5ff5d38e545cc7e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="makeExperiment_8py.html#a0ada5eecb44f5b32c5ff5d38e545cc7e">experiments</a> = pd.read_csv(path+databaseFile)</td></tr>
<tr class="memdesc:a0ada5eecb44f5b32c5ff5d38e545cc7e"><td class="mdescLeft">&#160;</td><td class="mdescRight">read in the database and store the contents  <a href="makeExperiment_8py.html#a0ada5eecb44f5b32c5ff5d38e545cc7e">More...</a><br /></td></tr>
<tr class="separator:a0ada5eecb44f5b32c5ff5d38e545cc7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa400ca21140fd5922314110aea4c58d0"><td class="memItemLeft" align="right" valign="top">dictionary&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="makeExperiment_8py.html#aa400ca21140fd5922314110aea4c58d0">newxp</a> = {'Name':Name, 'modelVersion':modelVersion, 'baseDirectory':experimentDirectory+Name, 'specificationFile':spec, 'purpose':purpose}</td></tr>
<tr class="memdesc:aa400ca21140fd5922314110aea4c58d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">construct new Experiment row  <a href="makeExperiment_8py.html#aa400ca21140fd5922314110aea4c58d0">More...</a><br /></td></tr>
<tr class="separator:aa400ca21140fd5922314110aea4c58d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09591f60036113e24eabe3345e15aa97"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="makeExperiment_8py.html#a09591f60036113e24eabe3345e15aa97">newE</a> = experiments.append(newxp,ignore_index=True)</td></tr>
<tr class="memdesc:a09591f60036113e24eabe3345e15aa97"><td class="mdescLeft">&#160;</td><td class="mdescRight">add new row into new dataframe  <a href="makeExperiment_8py.html#a09591f60036113e24eabe3345e15aa97">More...</a><br /></td></tr>
<tr class="separator:a09591f60036113e24eabe3345e15aa97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6784e1c334dfceb8f017667c0b0f6a3e"><td class="memItemLeft" align="right" valign="top"><a id="a6784e1c334dfceb8f017667c0b0f6a3e"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>index</b></td></tr>
<tr class="separator:a6784e1c334dfceb8f017667c0b0f6a3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafc3cbf089d4b34918898333c6c39edc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="makeExperiment_8py.html#aafc3cbf089d4b34918898333c6c39edc">thisExperiment</a> = pd.read_csv(path+Name+&quot;/&quot;+spec)</td></tr>
<tr class="memdesc:aafc3cbf089d4b34918898333c6c39edc"><td class="mdescLeft">&#160;</td><td class="mdescRight">a dataframe to hold the new experiment  <a href="makeExperiment_8py.html#aafc3cbf089d4b34918898333c6c39edc">More...</a><br /></td></tr>
<tr class="separator:aafc3cbf089d4b34918898333c6c39edc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Create csv files to define sets of values to be used in an experiment. </p>
<p>Read in the file that lists all the experiments, then create a new row for the new experiment, including default path and specification file name. Write this to the experiment database. Then create the experiment directories, and use the example experiment to create a default parameter file and specification file (which says how the parameters will be varied during the experiment). </p><dl class="section author"><dt>Author</dt><dd>: Mike Bithell Created on Mon Sep 20 15:00:44 2021 </dd></dl>

<p class="definition">Definition in file <a class="el" href="makeExperiment_8py_source.html">makeExperiment.py</a>.</p>
</div><h2 class="groupheader">Variable Documentation</h2>
<a id="file_ad52a0c4da962ce7ce3ee6514a1226496"></a>
<h2 class="memtitle"><span class="permalink"><a href="#file_ad52a0c4da962ce7ce3ee6514a1226496">&#9670;&nbsp;</a></span>databaseFile</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">databaseFile = 'ExperimentDatabase.csv'</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>set the name of the experiment database </p>
<p>By default jsut a csv file listing of known experiments, one per row </p>

<p class="definition">Definition at line <a class="el" href="makeExperiment_8py_source.html#l00039">39</a> of file <a class="el" href="makeExperiment_8py_source.html">makeExperiment.py</a>.</p>

</div>
</div>
<a id="file_a79b1a3c6d50c8374eb4bb2bad5b524cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#file_a79b1a3c6d50c8374eb4bb2bad5b524cc">&#9670;&nbsp;</a></span>experimentDirectory</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string experimentDirectory = 'experiments/'</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>directory containing experiment specifications and their output </p>
<p>defaults to experiments directory under the root </p>

<p class="definition">Definition at line <a class="el" href="makeExperiment_8py_source.html#l00034">34</a> of file <a class="el" href="makeExperiment_8py_source.html">makeExperiment.py</a>.</p>

</div>
</div>
<a id="file_a0ada5eecb44f5b32c5ff5d38e545cc7e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#file_a0ada5eecb44f5b32c5ff5d38e545cc7e">&#9670;&nbsp;</a></span>experiments</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">experiments = pd.read_csv(path+databaseFile)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>read in the database and store the contents </p>
<p>the values are stored in a pandas dataframe </p>

<p class="definition">Definition at line <a class="el" href="makeExperiment_8py_source.html#l00042">42</a> of file <a class="el" href="makeExperiment_8py_source.html">makeExperiment.py</a>.</p>

</div>
</div>
<a id="file_a4687725601d2b280bb37f75f805d90ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#file_a4687725601d2b280bb37f75f805d90ca">&#9670;&nbsp;</a></span>modelVersion</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string modelVersion = '0.4'</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>change to reflect version of the model </p>
<p>its expected that each expereriment is intended to run with a particular model version<br />
which will be recorded in the experiment database </p>

<p class="definition">Definition at line <a class="el" href="makeExperiment_8py_source.html#l00022">22</a> of file <a class="el" href="makeExperiment_8py_source.html">makeExperiment.py</a>.</p>

</div>
</div>
<a id="file_a7ee9065718e6628dc7791b756fa6c0f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#file_a7ee9065718e6628dc7791b756fa6c0f9">&#9670;&nbsp;</a></span>Name</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string Name = 'endTimeTest10_20000'</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>experiment name </p>
<p>Change this value to the name of the new experiment to be created </p>

<p class="definition">Definition at line <a class="el" href="makeExperiment_8py_source.html#l00018">18</a> of file <a class="el" href="makeExperiment_8py_source.html">makeExperiment.py</a>.</p>

</div>
</div>
<a id="file_a09591f60036113e24eabe3345e15aa97"></a>
<h2 class="memtitle"><span class="permalink"><a href="#file_a09591f60036113e24eabe3345e15aa97">&#9670;&nbsp;</a></span>newE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">newE = experiments.append(newxp,ignore_index=True)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>add new row into new dataframe </p>
<p>the row will be added at the end of the current set of experiments.<br />
Note this is not checked for duplicate names! Values will get overwritten into the original database file </p>

<p class="definition">Definition at line <a class="el" href="makeExperiment_8py_source.html#l00050">50</a> of file <a class="el" href="makeExperiment_8py_source.html">makeExperiment.py</a>.</p>

</div>
</div>
<a id="file_aa400ca21140fd5922314110aea4c58d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#file_aa400ca21140fd5922314110aea4c58d0">&#9670;&nbsp;</a></span>newxp</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dictionary newxp = {'Name':Name, 'modelVersion':modelVersion, 'baseDirectory':experimentDirectory+Name, 'specificationFile':spec, 'purpose':purpose}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>construct new Experiment row </p>
<p>this is a dictionary, with keys equal to the dataframe column names </p>

<p class="definition">Definition at line <a class="el" href="makeExperiment_8py_source.html#l00045">45</a> of file <a class="el" href="makeExperiment_8py_source.html">makeExperiment.py</a>.</p>

</div>
</div>
<a id="file_afdc21ecf504c037e64261e35b7c86610"></a>
<h2 class="memtitle"><span class="permalink"><a href="#file_afdc21ecf504c037e64261e35b7c86610">&#9670;&nbsp;</a></span>purpose</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string purpose = 'Testing how changes in parameters affect length of a well-mixed epidemic'</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A string briefly giving experiment purpose. </p>
<p>Change this to describe the experiment. More detail can be added in the parameter file and experiment README file </p>

<p class="definition">Definition at line <a class="el" href="makeExperiment_8py_source.html#l00025">25</a> of file <a class="el" href="makeExperiment_8py_source.html">makeExperiment.py</a>.</p>

</div>
</div>
<a id="file_aeabc269485afda7ef0d89ecb0ac6b7f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#file_aeabc269485afda7ef0d89ecb0ac6b7f5">&#9670;&nbsp;</a></span>root</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string root = &quot;../&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>directory from which to find the experiments sub-directory </p>
<p>the path here is relative to the place from which this cide is run </p>

<p class="definition">Definition at line <a class="el" href="makeExperiment_8py_source.html#l00031">31</a> of file <a class="el" href="makeExperiment_8py_source.html">makeExperiment.py</a>.</p>

</div>
</div>
<a id="file_aafc3cbf089d4b34918898333c6c39edc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#file_aafc3cbf089d4b34918898333c6c39edc">&#9670;&nbsp;</a></span>thisExperiment</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">thisExperiment = pd.read_csv(path+Name+&quot;/&quot;+spec)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>a dataframe to hold the new experiment </p>
<p>Use the default file copied in from the example, and modify for the new experiment </p>

<p class="definition">Definition at line <a class="el" href="makeExperiment_8py_source.html#l00067">67</a> of file <a class="el" href="makeExperiment_8py_source.html">makeExperiment.py</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
